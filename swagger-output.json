{
  "swagger": "2.0",
  "info": {
    "title": "Xreview API",
    "description": "Documentación de la API de Xreview",
    "version": "1.0.0"
  },
  "host": "localhost:5500",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Registrar usuario",
        "description": "Permite crear un nuevo usuario en la aplicación.",
        "responses": {
          "201": {
            "description": "Usuario creado exitosamente"
          },
          "400": {
            "description": "Bad Request"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsuarioRegistro"
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Iniciar sesión",
        "description": "Permite autenticar un usuario y obtener un token JWT.",
        "responses": {
          "200": {
            "description": "Inicio de sesión exitoso, devuelve token JWT"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsuarioLogin"
              }
            }
          }
        }
      }
    },
    "/profile": {
      "get": {
        "tags": [
          "Usuarios"
        ],
        "summary": "Obtener perfil del usuario",
        "description": "Devuelve la información del usuario autenticado.",
        "responses": {
          "200": {
            "description": "Perfil de usuario obtenido"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/listar": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Listar títulos",
        "description": "Devuelve todos los títulos (solo aprobados si es usuario normal).",
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/eliminar/{id}": {
      "delete": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Eliminar reseña",
        "description": "Elimina una reseña (solo el autor o admin).",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID de la reseña a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Reseña eliminada"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/editar/{id}": {
      "put": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Editar reseña",
        "description": "Permite editar una reseña propia.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID de la reseña a editar"
          }
        ],
        "responses": {
          "200": {
            "description": "Reseña actualizada"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsuarioEditar"
              }
            }
          }
        }
      }
    },
    "/buscar/{titulo}": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Buscar título por nombre",
        "description": "",
        "parameters": [
          {
            "name": "titulo",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "Nombre del título"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/filtros": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Listar títulos con filtros",
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paginado": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Listar títulos paginados",
        "description": "",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          },
          {
            "name": "sortBy",
            "in": "query",
            "type": "string"
          },
          {
            "name": "order",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/buscarTexto": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Búsqueda por texto",
        "description": "",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/top": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Top ranking",
        "description": "",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/masGustados": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Más gustados",
        "description": "",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/personalList/{usuarioId}": {
      "get": {
        "tags": [
          "Títulos"
        ],
        "summary": "Lista personal de títulos",
        "description": "",
        "parameters": [
          {
            "name": "usuarioId",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID del usuario"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/crear": {
      "post": {
        "tags": [
          "Títulos"
        ],
        "summary": "Crear nuevo título",
        "description": "",
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TituloCrear"
              }
            }
          }
        }
      }
    },
    "/delete/{id}": {
      "delete": {
        "tags": [
          "Títulos"
        ],
        "summary": "Eliminar título",
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID del título a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/aprobar/{id}": {
      "patch": {
        "tags": [
          "Títulos"
        ],
        "summary": "Aprobar título",
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID del título a aprobar"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/post": {
      "post": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Crear reseña",
        "description": "Crea una nueva reseña asociada a un título.",
        "responses": {
          "201": {
            "description": "Reseña creada exitosamente"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReseniaCrear"
              }
            }
          }
        }
      }
    },
    "/like/{id}": {
      "post": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Dar like a reseña",
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID de la reseña"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/dislike/{id}": {
      "post": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Dar dislike a reseña",
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "ID de la reseña"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/": {
      "get": {
        "tags": [
          "Reseñas"
        ],
        "summary": "Listar reseñas",
        "description": "",
        "responses": {
          "200": {
            "description": "Listado de reseñas"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    }
  }
}